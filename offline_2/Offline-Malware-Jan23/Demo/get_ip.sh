# Firstly run docker ps
#  the outout is in this format:
# CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES

#  get the output of docker ps
docker ps > temp.txt


#  read the file line by line
while read line
do
    #  split the line by space
    #  the first column is the id
    #  the second column is the name

    #  skip the first line
    #  line starts with CONTAINER ID
    if [[ $line == CONTAINER* ]]; then
        continue
    fi
    id=$(echo $line | cut -d ' ' -f 1)
    name=$(echo $line | cut -d ' ' -f 2)
    #  get the ip of the container
    #  the ip is in the first column
    #  the name is in the second column
    ip=$(docker inspect --format '{{ .NetworkSettings.IPAddress }}' $id)
    echo $name $ip
done < temp.txt

#  remove the temp file
rm temp.txt
